<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head th:replace="fragments/layout :: head(title='Accounts')" lang="en">
        <meta charset="UTF-8" />
        <title th:text="${title}">Title</title>
    </head>
    <body>
        <div class="container">
            <header th:replace="fragments/layout :: navbar(${currentUser})">
                <p>menu</p>
            </header>

            <h3>Follow requests</h3>
            <p th:if="${#lists.isEmpty(followRequests)}">No follow requests</p>
            <ol>
                <li th:if="${follower.acceptedAsFollower == false}" th:each="follower : ${followRequests}">
                    <p th:text="${follower.theOneWhoFollows.name} + ' wants to follow you'"></p>
                    <form th:action="@{/accounts/{id}/handleFollowRequest(id=${follower.id})}" th:method="POST">
                        <input type="hidden" name="value" value="accept"/>
                        <input type="submit" value="Accept"/>
                    </form>
                    <form th:action="@{/accounts/{id}/handleFollowRequest(id=${follower.id})}" th:method="POST">
                        <input type="hidden" name="value" value="reject"/>
                        <input type="submit" value="Reject"/>
                    </form>
                </li>
            </ol>
            <p th:if="${#lists.isEmpty(sentFollowRequests)}">You have no pending follow requests</p>
            <ol>
                <li th:if="${follower.acceptedAsFollower == false}" th:each="follower : ${sentFollowRequests}">
                    <p th:text="'You asked to follow ' + ${follower.theOneBeingFollowed.name}"></p>
                    <form th:action="@{/accounts/{id}/cancelFollowRequest(id=${follower.id})}" th:method="delete">
                        <input type="submit" value="Cancel request"/>
                    </form>
                </li>
            </ol>
        </div>
    </body>
</html>
